<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Gallery - Jesus Set Me Free Ministries</title>

<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
<link href="https://fonts.googleapis.com/css2?family=Playfair+Display:wght@400;700&family=Poppins:wght@300;400;500;600&display=swap" rel="stylesheet">

<style>
:root {
    --primary:#1a4b8c;
    --secondary:#c19a6b;
    --dark:#2c3e50;
}

body {
    margin:0;
    font-family:'Poppins',sans-serif;
    background:#f9f9f9;
}

header {
    background:linear-gradient(135deg,var(--primary),var(--dark));
    color:white;
    padding:1rem 0;
}

.container {
    width:90%;
    max-width:1200px;
    margin:auto;
}

.page-header {
    background:linear-gradient(rgba(0,0,0,.7),rgba(0,0,0,.7));
    color:white;
    padding:4rem 0;
    text-align:center;
}

.gallery-categories {
    display:flex;
    justify-content:center;
    gap:1rem;
    flex-wrap:wrap;
    margin:3rem 0;
}

.category-btn {
    padding:.8rem 1.5rem;
    border:2px solid var(--primary);
    background:white;
    cursor:pointer;
    border-radius:50px;
    font-weight:600;
}

.category-btn.active {
    background:var(--primary);
    color:white;
}

.gallery-grid {
    display:grid;
    grid-template-columns:repeat(auto-fill,minmax(280px,1fr));
    gap:1.5rem;
}

.gallery-item {
    height:250px;
    position:relative;
    overflow:hidden;
    border-radius:8px;
    background:#eee;
}

.gallery-item img {
    width:100%;
    height:100%;
    object-fit:cover;
}

.gallery-overlay {
    position:absolute;
    bottom:0;
    left:0;
    right:0;
    padding:1rem;
    background:linear-gradient(transparent,rgba(0,0,0,.85));
    color:white;
}

.image-error {
    position:absolute;
    inset:0;
    display:flex;
    align-items:center;
    justify-content:center;
    font-size:.8rem;
    color:red;
    padding:1rem;
    text-align:center;
}

.image-counter {
    text-align:center;
    margin:2rem 0;
    font-weight:600;
    color:var(--primary);
}
</style>
</head>

<body>

<header>
<div class="container">
    <h2>Jesus Set Me Free Ministries</h2>
</div>
</header>

<section class="page-header">
<div class="container">
    <h1>Ministry Gallery</h1>
</div>
</section>

<section class="container">

<div class="gallery-categories">
    <button class="category-btn active" data-category="all">All Activities</button>
    <button class="category-btn" data-category="events">Church Service Recap</button>
</div>

<div class="gallery-grid" id="galleryGrid">
    <p>Loading imagesâ€¦</p>
</div>

<div class="image-counter" id="imageCounter"></div>

</section>

<script>
/* ============================
   SERVICE IMAGES (FINAL)
   ============================ */

function generateServiceImageFilenames() {
    const images = [];
    const totalImages = 119;

    for (let i = 1; i <= totalImages; i++) {
        images.push({
            filename: `IMG-${i}.jpg`,
            folder: 'Church Service Recap',
            category: 'events'
        });
    }
    return images;
}

/* ============================
   LOAD IMAGES
   ============================ */

function loadImages() {
    const gallery = document.getElementById('galleryGrid');
    const counter = document.getElementById('imageCounter');

    const images = generateServiceImageFilenames();
    gallery.innerHTML = '';

    images.forEach(imgData => {
        const item = document.createElement('div');
        item.className = 'gallery-item';
        item.dataset.category = imgData.category;

        const img = document.createElement('img');
        const path = `images/${imgData.folder}/${imgData.filename}`;
        img.src = path;

        img.onerror = () => {
            img.remove();
            const err = document.createElement('div');
            err.className = 'image-error';
            err.textContent = path;
            item.appendChild(err);
        };

        const overlay = document.createElement('div');
        overlay.className = 'gallery-overlay';
        overlay.innerHTML = `<strong>Church Service Recap</strong><br>2025`;

        item.appendChild(img);
        item.appendChild(overlay);
        gallery.appendChild(item);
    });

    counter.innerHTML = `Total images: <strong>${images.length}</strong>`;
}

/* ============================
   FILTERING
   ============================ */

document.querySelectorAll('.category-btn').forEach(btn => {
    btn.addEventListener('click', () => {
        document.querySelectorAll('.category-btn').forEach(b => b.classList.remove('active'));
        btn.classList.add('active');

        const cat = btn.dataset.category;
        document.querySelectorAll('.gallery-item').forEach(item => {
            item.style.display =
                (cat === 'all' || item.dataset.category === cat)
                ? 'block'
                : 'none';
        });
    });
});

document.addEventListener('DOMContentLoaded', loadImages);
</script>

</body>
</html>
